<!doctype html><html lang=es class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.80.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=alternate type=application/rss+xml href=https://atc-casip.github.io/respiros/es/docs/events/index.xml><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/respiros/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/respiros/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/respiros/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/respiros/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/respiros/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/respiros/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/respiros/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/respiros/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/respiros/favicons/android-192x192.png sizes=192x192><title>Comunicación externa de eventos | Respir-OS</title><meta property="og:title" content="Comunicación externa de eventos"><meta property="og:description" content="Integrar aplicaciones externas con el respirador."><meta property="og:type" content="website"><meta property="og:url" content="https://atc-casip.github.io/respiros/es/docs/events/"><meta property="og:site_name" content="Respir-OS"><meta itemprop=name content="Comunicación externa de eventos"><meta itemprop=description content="Integrar aplicaciones externas con el respirador."><meta name=twitter:card content="summary"><meta name=twitter:title content="Comunicación externa de eventos"><meta name=twitter:description content="Integrar aplicaciones externas con el respirador."><link rel=preload href=/respiros/scss/main.min.a40e8388f84bdd24bc3411e01a2a4a50b09036c9b079bd05a1eb025839f53861.css as=style><link href=/respiros/scss/main.min.a40e8388f84bdd24bc3411e01a2a4a50b09036c9b079bd05a1eb025839f53861.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/respiros/es/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Respir-OS</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/respiros/es/docs/><span class=active>Documentación</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Español</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/respiros/docs/events/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center d-lg-none"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Español</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/respiros/docs/events/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/respiros/es/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentación</a></li><ul><li class="collapse show" id=respirosesdocs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/respiros/es/docs/events/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Comunicación externa de eventos</a></li><ul><li class="collapse show" id=respirosesdocsevents></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><nav id=TableOfContents><ul><li><a href=#parameters><code>parameters</code></a></li><li><a href=#cycle><code>cycle</code></a></li><li><a href=#readings><code>readings</code></a></li><li><a href=#alarm><code>alarm</code></a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://atc-casip.github.io/respiros/es/docs/>Documentación</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://atc-casip.github.io/respiros/es/docs/events/>Comunicación externa de eventos</a></li></ol></nav><div class=td-content><h1>Comunicación externa de eventos</h1><div class=lead>Integrar aplicaciones externas con el respirador.</div><p>Para permitir la extensión de la funcionalidad del sistema y su integración con
otras plataformas, Respir-OS publica los eventos que tienen lugar durante su
funcionamiento mediante WebSockets. Los clientes pueden conectarse al socket
usando librerías como <a href=https://socket.io/>Socket.IO</a> para recibir los eventos
cuando sucedan y poder trabajar sobre sus datos. En esta sección, se detallan
todos los eventos que genera el respirador y sus datos asociados.</p><h2 id=parameters><code>parameters</code></h2><p>Este evento contiene los parámetros de operación actuales del respirador. Se
publica un nuevo evento cuando alguno de estos parámetros cambia, proporcionando
los valores actualizados. Además, cuando un nuevo cliente se conecta al socket,
recibe también este evento de inmediato para que sepa los parámetros actuales
del dispositivo.</p><p>Junto con el evento, se envía un documento JSON con las siguientes variables:</p><ul><li><code>mode</code>: El modo de operación del respirador. Puede ser <code>VCP</code> (modo controlado) o
<code>VPS</code> (modo asistido).</li><li><code>ipap</code>: <em>Inspiratory Positive Airway Pressure</em>. Es la presión con la que se
insufla aire en los pulmones del paciente. Se mide en centímetros de agua
(cmH<sub>2</sub>O).</li><li><code>epap</code>: <em>Expiratory Positive Airway Pressure</em>. Es la presión entrante bajo la
cual se exhala el aire de los pulmones. Se mide en centímetros de agua
(cmH<sub>2</sub>O).</li><li><code>breathing_freq</code>: La frecuencia respiratoria, indicada en número de
respiraciones por minuto.</li><li><code>ie_relation</code>: La relación I:E es el ratio entre el tiempo que se tarda en
inhalar y el tiempo que se tarda en exhalar. Por ejemplo, una relación 3:1
implica que, por cada unidad de tiempo dedicada a exhalar, se dedican 3 a
inhalar.</li><li><code>trigger</code>: El <em>trigger</em> de flujo es lo que nos permite saber que el paciente
ha terminado de exhalar y puede pasar a inhalar. Se indica en litros por
minuto (l/m), es decir, se basa en el volumen de aire.</li></ul><p><strong>Ejemplo</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JSON data-lang=JSON><span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;mode&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;VPS&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ipap&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>20.0</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;epap&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>26.0</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;breathing_freq&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>15.0</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ie_relation&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1:3&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;trigger&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5.0</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h2 id=cycle><code>cycle</code></h2><p>Cuando comienza un nuevo ciclo, el sistema obtiene los valores de monitorización
del ciclo que acaba de terminar y los envía en un evento. Estos valores se
envían en un documento JSON junto con el evento, que contiene las siguientes
variables:</p><ul><li><code>ipap</code>: La máxima presión alcanzada en el ciclo. Se mide en centímetros de
agua (cmH<sub>2</sub>O).</li><li><code>epap</code>: La presión cuando el flujo espiratorio pasa por cero. Se mide en
centímetros de agua (cmH<sub>2</sub>O).</li><li><code>breathing_freq</code>: Se trata de la frecuencia real. Al variar muy poco entre
ciclos, el valor que se da es el promedio de los 3 últimos ciclos. Se mide en
respiraciones por minuto.</li><li><code>tidal_volume</code>: El volumen corriente o volumen tidal. Es la cantidad de aire
que se le inserta al paciente en el insuflado. Se mide en mililitros.</li><li><code>volume_per_minute</code>: El volumen por minuto. Es la cantidad de aire que se le
insufla al paciente al cabo de un minuto. Se mide en litros.</li><li><code>oxygen_percentage</code>: El porcentaje de oxígeno del aire inspirado.</li></ul><p><strong>Ejemplo</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JSON data-lang=JSON><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;ipap&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>22.4</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;epap&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>23.6</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;breathing_freq&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>11.2</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;tidal_volume&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>26.2</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;volume_per_minute&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>35.3</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;oxygen_percentage&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>34.2</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h2 id=readings><code>readings</code></h2><p>El sistema realiza lecturas de los distintos sensores que posee con una
frecuencia muy alta. Con menor frecuencia, el sistema lanza un evento con las
lecturas realizadas en el último periodo, contenidas en un documento JSON. Cada
lectura posee las siguientes variables:</p><ul><li><code>timestamp</code>: Marca temporal en la que se realizó la lectura, en tiempo Unix.</li><li><code>flow</code>: Flujo de aire, expresado en litros por minuto (l/m).</li><li><code>pressure</code>: Presión del aire, expresada en centímetros de agua
(cmH<sub>2</sub>).</li><li><code>volume</code>: Volumen de aire, expresado en mililitros (ml).</li></ul><p><strong>Ejemplo</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JSON data-lang=JSON><span style=color:#000;font-weight:700>[</span>
  <span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;timestamp&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2020-11-12T12:51:00+00:00&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;flow&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>-12.8</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;pressure&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>14.3</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;volume&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>3.0</span>
  <span style=color:#000;font-weight:700>},</span>
  <span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;timestamp&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2020-11-12T12:51:00+00:02&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;flow&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>-10.3</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;pressure&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>10.2</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;volume&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.0</span>
  <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>]</span>
</code></pre></div><h2 id=alarm><code>alarm</code></h2><p>Como parte del control de la operación del respirador, el sistema lanza alarmas
cuando se exceden ciertos rangos para los parámetros u ocurren otras situaciones
no deseadas. Cuando sucede una alarma, el sistema lanza un evento de este tipo,
junto con un documento JSON con los siguientes valores:</p><ul><li><code>type</code>: El tipo de alarma. Puede ser: <code>apnea</code>, <code>disconnect</code>, <code>min_pressure</code>,
<code>max_pressure</code>, <code>min_volume</code>, <code>max_volume</code>, <code>max_frequency</code> u <code>oxygen</code>.</li><li><code>criticality</code>: Nivel de criticalidad, puede ser <code>normal</code> o <code>high</code>.</li></ul><p><strong>Ejemplo</strong></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JSON data-lang=JSON><span style=color:#000;font-weight:700>{</span>
  <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;apnea&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#204a87;font-weight:700>&#34;criticality&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;normal&#34;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">Última modificación January 1, 0001</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/atc-casip/respiros><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/respiros/js/main.min.796b3d32262061b410bb4568e6f2c216f4b2155a98a4555b1bc5f878a71f1c0e.js integrity="sha256-eWs9MiYgYbQQu0Vo5vLCFvSyFVqYpFVbG8X4eKcfHA4=" crossorigin=anonymous></script></body></html>